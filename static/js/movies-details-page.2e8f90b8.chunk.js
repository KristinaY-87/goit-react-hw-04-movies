(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[3],{105:function(e,t,n){e.exports={block:"MovieDetailsPage_block__1qnWq",wrapper:"MovieDetailsPage_wrapper__2kUhl",list:"MovieDetailsPage_list__3Dr3Y"}},106:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.r(t),n.d(t,"default",(function(){return w}));var i=n(52),o=n(53),s=n(55),l=n(54),u=n(0),h=n(10),p=n(3),j=n(56),b=n.p+"static/media/default.2e01288c.jpg",d=n(1),v=function(e){Object(s.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={baseUrl:"https://image.tmdb.org/t/p/w500",casts:[]},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.id;j.a.fetchCast(t).then((function(t){return e.setState({casts:t})}))}},{key:"render",value:function(){var e=this.state,t=e.casts,n=e.baseUrl;return Object(d.jsx)("ul",{children:t.map((function(e){var t=e.id,r=e.name,a=e.profile_path,c=e.character;return Object(d.jsxs)("li",{children:[Object(d.jsx)("img",{src:a?n+a:b,alt:r,width:"150"}),Object(d.jsx)("p",{children:r}),Object(d.jsxs)("p",{children:["Character: ",c]})]},t)}))})}}]),n}(u.Component),f=function(e){Object(s.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={reviews:[]},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.id;j.a.fetchMoviesReview(t).then((function(t){return e.setState({reviews:t})}))}},{key:"render",value:function(){var e=this.state.reviews;return Object(d.jsx)("ul",{children:e&&e.length>0?e.map((function(e){var t=e.id,n=e.content,r=e.author,a=e.url;return Object(d.jsxs)("li",{children:[Object(d.jsxs)("h3",{children:["Author: ",r]}),Object(d.jsx)("p",{children:n.slice(0,500)}),Object(d.jsx)("a",{href:a,target:"_blank",rel:"noopener noreferrer",children:"ReadMore"})]},t)})):"No information"})}}]),n}(u.Component),O=n(8),g=n(105),m=n.n(g),w=function(e){Object(s.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={baseUrl:"https://image.tmdb.org/t/p/w500/",genres:null,id:null,title:null,overview:null,vote_average:null,poster_path:"",castList:null,reviews:null},e.handleGoBack=function(){var t,n=e.props,r=n.location;n.history.push((null===r||void 0===r||null===(t=r.state)||void 0===t?void 0:t.from)||O.a.home)},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.movieId;j.a.fetchMoviesDetails(t).then((function(t){return e.setState(c(c({},t),{},{poster_path:"https://image.tmdb.org/t/p/w500".concat(t.poster_path)}))}))}},{key:"render",value:function(){var e=this.state,t=e.title,n=e.poster_path,r=e.overview,a=e.vote_average,c=e.genres,i=this.props.match,o=i.params.movieId;return console.log("history",this.props.history),console.log("location",this.props.location),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("button",{type:"button",onClick:this.handleGoBack,children:"Go back"}),Object(d.jsxs)("div",{className:m.a.block,children:[Object(d.jsx)("img",{src:n,alt:t,width:"300"}),Object(d.jsxs)("div",{className:m.a.wrapper,children:[Object(d.jsx)("h2",{children:t}),Object(d.jsxs)("p",{children:["User score: ",a,"%"]}),Object(d.jsx)("h3",{children:"Overview"}),Object(d.jsx)("p",{children:r}),Object(d.jsxs)("ul",{className:m.a.list,children:[Object(d.jsx)("h4",{children:"Genres"}),null===c||void 0===c?void 0:c.map((function(e){var t=e.id,n=e.name;return Object(d.jsx)("li",{className:m.a.item,children:n},t+n)}))]})]})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("p",{children:"Information"}),Object(d.jsxs)("ul",{children:[Object(d.jsx)(h.c,{to:{pathname:"".concat(i.url,"/cast"),state:this.props.location.state},children:Object(d.jsx)("li",{children:"Cast"})}),Object(d.jsx)(h.c,{to:{pathname:"".concat(i.url,"/reviews"),state:this.props.location.state},children:Object(d.jsx)("li",{children:"Reviews"})})]}),Object(d.jsx)(p.b,{path:"".concat(i.path,"/cast"),render:function(){return Object(d.jsx)(v,{id:o})}}),Object(d.jsx)(p.b,{path:"".concat(i.path,"/reviews"),render:function(){return Object(d.jsx)(f,{id:o})}})]})]})}}]),n}(u.Component)},56:function(e,t,n){"use strict";var r=n(57),a=n.n(r),c="2690a15d8abf52b4f7c30542acc1f92f",i={fetchPopularMovies:function(){return a.a.get("https://api.themoviedb.org/3/trending/movie/week?api_key=".concat(c)).then((function(e){return e.data.results}))},fetchMoviesSearchQuery:function(e){return a.a.get("https://api.themoviedb.org/3/search/movie?query=".concat(e,"&api_key=").concat(c,"&language=en-US&page=1&include_adult=false")).then((function(e){return e.data.results}))},fetchMoviesDetails:function(e){return a.a.get("https://api.themoviedb.org/3/movie/".concat(e,"?api_key=").concat(c,"&language=en-US")).then((function(e){return e.data}))},fetchCast:function(e){return a.a.get("https://api.themoviedb.org/3/movie/".concat(e,"/credits?api_key=").concat(c,"&language=en-US")).then((function(e){return e.data.cast}))},fetchMoviesReview:function(e){return a.a.get("https://api.themoviedb.org/3/movie/".concat(e,"/reviews?api_key=").concat(c,"&language=en-US&page=1")).then((function(e){return e.data.results}))}};t.a=i}}]);
//# sourceMappingURL=movies-details-page.2e8f90b8.chunk.js.map